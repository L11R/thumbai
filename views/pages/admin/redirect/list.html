<!-- Copyright Jeevanandam M. (https://github.com/jeevatkm, jeeva@myjeeva.com)

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

{{ define "title" }}
<title>Redirects - THUMBAI</title>
{{ end }} 

{{ define "body-content" -}} 
<div class="admin-redirect">
    <h1 class="w-75">Redirects
        <!-- <span class="align-middle float-sm-right">
            <button id="redirectHostAddBtn" data-url="#" data-toggle="tooltip" title="Add new redirect host" class="btn btn-sm btn-outline-success pl-4 pr-4">Add</button>
        </span> -->
    </h1>
    <div class="mt-5 w-75">
        <table class="table table-hover">
            <thead class="bg-dark text-white">
                <tr>
                <th scope="col" class="w-75">Host</th>
                <th scope="col" class="w-25">Redirects Rules</th>
                <!-- <th scope="col">&nbsp;</th> -->
                </tr>
            </thead>
            <tbody>
                {{ if .AllRedirects }}
                {{- range $key, $value := .AllRedirects }}
                <tr class="redirect-row" data-url="{{ rurl $ "redirect_show" $key }}">
                    <td>{{ $key }}</td>
                    <td>{{ len $value }}</td>
                    <!-- <td class="text-center veritical-align-middle">
                        <a href=""><i class="fas fa-edit fa-lg"></i></a>     
                        <a href=""><i class="fas fa-trash-alt fa-lg"></i></a>
                    </td> -->
                </tr>
                {{- end }}
                {{ end }}
            </tbody>
        </table>
    </div>
</div>
<!-- Add/Edit redirect host record -->
<!-- <div class="modal fade" id="addEditModal" tabindex="-1" role="dialog" aria-labelledby="addEditModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addEditModalTitle">Add redirect host</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="height: 18vh">
                <form id="addEditForm" class="mt-3">
                    <div class="form-group">
                        <input type="text" class="form-control" id="redirectHostname" placeholder="Enter redirect hostname" required>
                    </div>
                    <div class="float-right mt-3">
                        <button type="button" class="btn btn-sm btn-outline-secondary pl-4 pr-4" data-dismiss="modal">Close</button>
                        <button id="modalAddBtn" type="submit" class="btn btn-sm btn-outline-success pl-4 pr-4">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>  -->
<!-- /addEditModal -->
<script>
window.jqReady(function() {
    $('.redirect-row').click(function() {
        location = $(this).data('url');
    });
    // $('#redirectHostAddBtn').click(function() {
    //     $('#addEditModal').modal();
    // });
    // $('#addEditModal').on('show.bs.modal', function(e) {
    //     $('#addEditForm').trigger('reset');
    //     $('#redirectHostname').trigger('focus');
    // });
    // $('#addEditForm').submit(function(e){
    //     console.log('came here');
    //     return false;
    // });
});
</script>
{{ end }}