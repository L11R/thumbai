<!-- Copyright 2018 Jeevanandam M. (https://github.com/jeevatkm, jeeva@myjeeva.com)

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

{{ define "title" }}
<title>Proxies - THUMBAI</title>
{{ end }} 

{{ define "body-content" -}} 
<div class="admin-proxy">
    <h1 class="w-75">Proxies
        <!-- <span class="align-middle float-sm-right">
            <button id="proxyHostAddBtn" data-url="#" data-toggle="tooltip" title="Add new proxy host" class="btn btn-sm btn-outline-success pl-4 pr-4">Add</button>
        </span> -->
    </h1>
    <div class="mt-5 w-75">
        <table class="table table-hover">
            <thead class="bg-dark text-white">
                <tr>
                <th scope="col" class="w-75">Host</th>
                <th scope="col" class="w-25">Proxy Rules</th>
                <!-- <th scope="col">&nbsp;</th> -->
                </tr>
            </thead>
            <tbody>
                {{- range $key, $value := .AllProxies }}
                <tr class="proxy-row" data-url="{{ rurl $ "proxy_show" $key }}">
                    <td>{{ $key }}</td>
                    <td>{{ len $value }}</td>
                    <!-- <td class="text-center veritical-align-middle">
                        <a href=""><i class="fas fa-edit fa-lg"></i></a>     
                        <a href=""><i class="fas fa-trash-alt fa-lg"></i></a>
                    </td> -->
                </tr>
                {{- end }}
            </tbody>
        </table>
    </div>
</div>
<!-- Add/Edit proxy host record -->
<!-- <div class="modal fade" id="addEditModal" tabindex="-1" role="dialog" aria-labelledby="addEditModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addEditModalTitle">Add proxy host</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="height: 18vh">
                <form id="addEditForm" class="mt-3">
                    <div class="form-group">
                        <input type="text" class="form-control" id="proxyHostname" placeholder="Enter proxy hostname" required>
                    </div>
                    <div class="float-right mt-3">
                        <button type="button" class="btn btn-sm btn-outline-secondary pl-4 pr-4" data-dismiss="modal">Close</button>
                        <button id="modalAddBtn" type="submit" class="btn btn-sm btn-outline-success pl-4 pr-4">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>  -->
<!-- /addEditModal -->
<script>
window.jqReady = function() {
    $('.proxy-row').click(function() {
        window.location = $(this).data('url');
    });
    // $('#proxyHostAddBtn').click(function() {
    //     $('#addEditModal').modal();
    // });
    // $('#addEditModal').on('show.bs.modal', function(e) {
    //     $('#addEditForm').trigger('reset');
    //     $('#proxyHostname').trigger('focus');
    // });
    // $('#addEditForm').submit(function(e){
    //     console.log('came here');
    //     return false;
    // });
}
</script>
{{ end }}